1.核心实体：
    preset_config：存多摄像头显示的配置信息。（几个区域显示，分别对应哪个摄像头）（一条记录对应一个摄像头）含标段字段。
    img_store:存储常驻人员和车辆抓拍到的图片。含标段字段。外键关联到personal_inout人员进出表信息。


2.实体场景1：同画面视频监控
	>实时滚动：
	    前端：每隔20s请求一次。
	    后端： 上一分钟内人员的刷卡记录，按人员类型分类（常驻|临时）标记，并且只显示最新的前7条。
		   上一分钟内车辆的刷卡记录，按人员类型分类（常驻|临时）标记，并且只显示最新的前7条。
		   
	>表格：
	   # 统计1：统计当天当标段所有进场记录（到统计时为止），中常驻人的数量。即进过场的常驻人的数目。----其统计及其嗦。
  	  	    统计临时人数，类上。
		    统计总进人次：当天当标段所有的进场刷卡记录。
		    统计总出人次：类上。
	   # 统计2：在场车辆统计，类上。
	
	>视频：
		 摄像头和本地机器在同一个局域网，每个摄像头对应一个通道，所有摄像头在一个ip下。
	    > 查配置数据：ip,port,username,password, rule,size,path。登录摄像头和调整摄像头控制摄像头所需要的。
	      初始化视频整体配置：一看是否安装插件？WebVideoCtrl，二看是否最新版本，三直接在给定div内插入一个<object>视频控件标签对象。
	      登录：具体的登录代码是在插件里写的：可以用：WebVideoCtrl.findDeviceIndexByIP(ip)来来看设备是否被本机登录。	 
	            登录协议：http:// , https://。。登录方法：webVideoCtrl.js里面的 tt()方法。。
	      获取数字通道列表：WebVideoCtrl.I_GetDigitalChannelInfo
	      选择一个通道（切换通道显示，即切换窗口）显示实时画面：只需要提供ip和channel通道号就可以：WebVideoCtrl.I_StartRealPlay()。。 yl()。
				（其中会先检查当前窗口号对应摄像头的状态，可以停止当前窗口号对应的摄像头）
	      改变窗口数目：可以改变显示的窗口数（因为在一个div里的object里，所以相当于显示所有的通道--所有的摄像头捕获景象）WebVideoCtrl.I_ChangeWndNum(类型)
	      调整摄像头摄像方向和焦距：提供方向和一个运动速度值，可以对当前通道（摄像头）方向进行调整（看到不同的区域）。WebVideoCtrl.I_PTZControl()方法可以实现。
	      抓图（录像文件、图片文件）：
		    保存图 :先到后台插一幅空图，返回它的id作为捕获图片的名字：img_store。~/video/rest/videoMain/savePic
		    先本地配置：录像文件大小，本地保存路径，取图协议（TCP默认,UDP），图像宽高比例，图片格式....，WebVideoCtrl.I_SetLocalCfg()
		    保存当前窗口的图片：以上述的id为图片的名称，以配置的参数为路径，等等。WebVideoCtrl.I_CapturePic
	------------此时的预置位没有起到作用。（几分图，第几个图，对应通道号，整体预置位）
		    
3.实体场景2：视频参数配置：
   	>即更新ip,port,username, password等到p_code。


4.实体场景3：电子地图视频跟踪：
  	>查看定位点表格：同之前。为当前标段有定位信息有绑定定位设备的最新定位点信息。（没有看detail，只看最新经纬高）。。（detail，这个在上传基建的时候也没有处理，只是将数据放到t_position_upload里了。在设备调现场savePosition保存定位点的到t_position_recent时候有更新detail,且存点到t_position_history里）（）
	  （但是当前因为过滤条件，所以没有结果。且不显示表格出来）
	>表格加载完后在表格后画轨迹图：画上述结果中每个人代表的一个小示意图-----即最新的定位点。右键点击这个小图时有“视频查看”功能（即查看这一片区对应的摄像头实时拍摄的画面）：
					点击菜单：查配置数据再打开视频：查出该标段最新的预置位配置（几分图、第几块、哪个通道号--摄像头，预置位号--和第几块一一对应的值即另一个说法另一个描述（一般是相同的数字））;
									计算当前人所在坐标属于第几块。根据这块的通道号、预置位数值（从而放到哪个窗口）以及其他必要信息（每一块的区别就是通道号和预置位不同）：
									登录摄像头，WebVideoCtrl.I_Login（已经登录，则省略这一步）；打开通道WebVideoCtrl.I_StartRealPlay；放到（视频的）预置位窗口：WebVideoCtrl.I_GoPreset
									（地图上的几块，视频窗口的第几个画面。。。是两个概念。只是对应上了。）
	>配置预置位：新窗口展示区域地图：
		     选择对区域几分：
		     选中其中一个分块，新窗口，进行配置和查看：查看对应的通道（摄像头）的配置信息，并登录这个摄像头，获取通道列表，默认选中第一个通道。
							       点击预览可以打开通道（即通道列表的选中值，即开始实时摄像了）----但是并没有使用第几块和总共几块的信息：。。可以云台控制调整摄像头方位，再利用预置位列表值（数字代表一个关于方位的综合设置的映射值），将摄像头运动到的这个方位定为某个值--预置值---摄像头会保存这个预置位值，下次输入这个值就会自动运动到相应的方位。WebVideoCtrl.I_GoPreset
								保存：则保存上述传来的第几块、总共几块，以及选择的通道列表的值、预置位的值，保存到数据库（预置位代表的具体位由摄像头保存）。但仅仅保存了一条记录。也一直只有一条----设置标段也没有管，直接删除了----所以是有问题的。

5.实体场景4：视频抓拍管理：
	>查看所有的存储的图片。img_store
	>编辑注释
	

6.实体场景5：人员进出抓拍：
	>表格：当标段内容属于人员自动抓拍中工具属于由进出场抓拍的那些临时常驻人的拍照图信息（图为单位）。所有personal_inout中有的人。
	

7.实体场景6：车辆进出抓拍：
	类上。









